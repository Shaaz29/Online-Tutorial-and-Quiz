{% extends 'base.html' %}

{% block title %}Quizzes - Online Tutorial System{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="text-center mb-4" style="color:#2c3e50;">Available Quizzes</h2>

    <!-- 🔍 Search Bar -->
    <form method="get" action="" class="mb-4" style="max-width:500px; margin:0 auto; display:flex; gap:10px;">
        <input type="text" name="q" value="{{ request.GET.q }}" placeholder="Search quizzes..."
               class="form-control" style="border-radius:8px; border:1px solid #ccc;">
        <button type="submit" class="btn btn-primary" style="border-radius:8px;">Search</button>
    </form>

    {% if quizzes %}
        <div class="quiz-list" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px;">
            {% for quiz in quizzes %}
                <div class="quiz-item" style="background-color: #f9f9fb; border: 1px solid #ddd; border-radius: 10px; padding: 20px; transition: all 0.3s ease;">
                    <h3 style="color: #34495e; margin-bottom: 10px;">
                        <a href="{% url 'quizzes:quiz_detail' quiz.id %}" style="text-decoration: none; color: #2c3e50;">{{ quiz.title }}</a>
                    </h3>
                    <p style="color: #555;">{{ quiz.description|truncatewords:20 }}</p>
                    <p><strong>Questions:</strong> {{ quiz.questions.count }}</p>
                    <p><strong>Created by:</strong> {{ quiz.created_by.username }}</p>
                    <p><small>Created: {{ quiz.created_at|date:"M d, Y" }}</small></p>
                    <a href="{% url 'quizzes:quiz_detail' quiz.id %}" 
                       style="display:inline-block; margin-top:10px; padding:8px 14px; background-color:#007bff; color:white; border-radius:6px; text-decoration:none; font-size:14px;">
                       Start Quiz →
                    </a>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-center" style="color:#555;">No quizzes available yet. Please check back later!</p>
    {% endif %}
</div>
{% endblock %}
